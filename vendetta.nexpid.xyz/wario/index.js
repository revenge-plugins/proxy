(function(g,t,s,l,N,R,A){"use strict";t.findByStoreName("ThemeStore");const{triggerHaptic:y}=t.findByProps("triggerHaptic"),v=t.findByProps("colors","unsafe_rawColors");v?.internal??v?.meta,t.findByProps("TextStyleSheet").TextStyleSheet,t.findByProps("ActionSheet")?.ActionSheet??t.find(function(i){return i.render?.name==="ActionSheet"}),t.findByProps("openLazy","hideActionSheet"),t.findByProps("ActionSheetTitleHeader","ActionSheetCloseButton","ActionSheetContentContainer"),t.findByProps("ActionSheetRow")?.ActionSheetRow,t.findByName("Navigator")??t.findByProps("Navigator")?.Navigator,t.findByProps("getRenderCloseButton")?.getRenderCloseButton??t.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,t.findByProps("popModal","pushModal"),t.findByProps("Button","ContextMenu","TextInput");function C(i){y();const u=setInterval(y,1);return new Promise(function(n){return setTimeout(function(){return n(clearInterval(u))},i)})}const b=s.ReactNative.NativeModules.DCDChatManager,w=t.findByName("BottomTabBarItem",!1),L=".!,:tijl ".split(""),B=function(i){return i.split("").reduce(function(u,n){return u+(L.includes(n)?1/4:1)},0)},p="https://cdn.discordapp.com/attachments/919655852724604978/1197224092554772622/9k.png?ex=65ba7cd3&is=65a807d3&hm=802329bcd8341bb5e83c054cc7c42d9381f071d4f481fe666284dcdff01a0f2e&";function M(){const i=new Array;i.push(l.before("render",s.ReactNative.Image,function(n){let[e]=n;e.ignore||(e.resizeMode="stretch",e.source={uri:p},e.style={...s.ReactNative.StyleSheet.flatten(e.style),tintColor:void 0})})),i.push(l.before("render",s.ReactNative.Text,function(n){let[e]=n;const d=(Array.isArray(e.children)?e.children:[e.children]).filter(function(c){return typeof c=="string"}).reduce(function(c,h){return c+B(h)},0),a=s.ReactNative.StyleSheet.flatten(e.style);e.children=s.React.createElement(s.ReactNative.Image,{resizeMode:"stretch",source:{uri:p},style:{...a,color:void 0,width:a.fontSize*d,height:a.fontSize}})},!0)),i.push(l.before("updateRows",b,function(n){const e=JSON.parse(n[1]);for(const d of e){if(!d.message)continue;const{message:a}=d,c=function(r){const o=[];for(const f of r)if(typeof f.content=="string")for(let P=0;P<Math.floor(B(f.content));P++)o.push({type:"guild",guildId:"0",content:"",icon:p});else Array.isArray(f.content)?o.push({...f,content:c(f.content)}):o.push(f);return o},h=function(r){r.content&&(r.content=c(r.content));for(const o of r.embeds??[])o.title&&(o.title=c(o.title)),o.description&&(o.description=c(o.description)),(o.footer?.text||o.footer?.content)&&(o.footer.text="wario",o.footer.content="wario");r.username="wario",r.timestamp="wario",r.avatarURL=p,delete r.avatarDecorationURL};h(a),a.referencedMessage?.message&&h(a.referencedMessage.message),console.log(a)}n[1]=JSON.stringify(e)}));const u=function(){C(50),R.stopPlugin(N.id,!0),A.showToast("Wario is gone!")};return i.push(l.after("default",w,function(n,e){let[{route:{name:d}}]=n;return d!=="guilds"||(e.props.onLongPress=u),e})),i.push(l.before("render",s.ReactNative.Pressable.type,function(n){let[e]=n;e.accessibilityLabel==="Chat"&&(e.delayLongPress=0,e.onLongPress=u)})),function(){return i.forEach(function(n){return n()})}}let S;const T=function(){return S=M()},I=function(){return S?.()};return g.onLoad=T,g.onUnload=I,g})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.plugins,vendetta.ui.toasts);
